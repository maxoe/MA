\chapter{Problem and Definitions}\label{chapter:problem_definitions}
The long-haul truck driver routing problem is an extension to the common shortest path problem (SPP) which is defined as follows. Let $G=(V,E,\omega)$ be a graph where $V$ is the set of nodes, $E$ is the set of edges $(u,v)$ with $u,v \in V$, and $\omega$ is the weight function $\omega: E \rightarrow \mathbb{R}_{\ge 0}$ which assigns each edge a nonnegative weight or length. Given a start node $s \in V$ and a target node $t \in V$, the SPP searches a shortest path $p$ from $s$ to $t$, i.e., a path $p = \langle s=v_0,v_1,...,t=v_k, \rangle$ with $(v_i,v_{i+1}) \in E$ and minimal $len(p) = \sum_{i=0}^{k-1} \omega((v_{i}, v_{i+1}))$.

We introduce a set $P \subseteq V$ of parking nodes and a set $R$ of driving time constraints $r_i$. Each driving time constraint is defined by a maximum allowed driving time $r_{i,d}$ and a pause time $r_{i,p}$. Thereby, the driving time constraints define a relation $r_i \le r_{i+1}$ with $r_i \le r_j \implies r_{i,d} \le r_{j,d} \land  r_{i,p} \le r_{j,p} \forall i,j$. In words, a greater or equal driving time restriction has a longer or equal driving and pause time and there must be no restriction $r_i$ with a longer driving time limit, but shorter pause time than another restriction $r_j$. Before exceeding a driving time of $r_{i,d}$, the driver must stop and pause for a time of at least $r_{i,p}$. Afterwards, the driver is allowed to drive for a maximum time of $r_{i,d}$ again without stopping. Stops can only take place at nodes $v \in P$.

A path $p$ from $s$ to $t$ now includes not only the sequence of visited nodes $p = \langle s=v_0,v_1,...,t=v_k, \rangle$, but also a pause time $\rho: p \rightarrow \{0,r_{i,d}\}$ for each node i. It is $\rho(v_i) = 0$ $\forall v_i \notin P$.

\begin{definition}[Driving Time]
	The driving time $len_{dt}(p)$ of a path  $p = \langle s=v_0,v_1,...,t=v_k, \rangle$ is defined analogously to the length of a path in the ordinary SPP. It is $len_{dt}(p) = \sum_{i=0}^{k-1} \omega((v_{i}, v_{i+1}))$.
\end{definition}

\begin{definition}[Travel Time]
	The travel time $len_{tt}(p)$ of a path  $p = \langle s=v_0,v_1,...,t=v_k, \rangle$ is defined as the sum of the driving time of the path and the total accumulated pause time $len_{tt}(p) = len_{dt}(p) + \sum_{i=0}^{k} \rho(v_i)$.
\end{definition}

\begin{definition}[Path Compliance]
	A valid path $p = \langle s=v_0,v_1,...,t=v_k, \rangle$ must comply with the driving time restrictions $R$. The path $p$ complies with $R$ if it complies with all $r_l \in R$.

	Let $v_i$ be the starting node $s$ or any node on the path with $\rho(v_i) \ge r_{l,p}$ and let $v_j$ be the target node $t$ or any node on the path with $\rho(v_j) \ge r_{l,p}$ and $i < j$. Then let $q$ be the subpath of $p$ from $v_i$ to $v_j$. A path complies with driving time restriction $r_l$ if $len_{dt}(q) < r_{d,l}$ for all possible subpaths $q$ or there is a node $v_m$ on $q$ with $\rho(v_m) \ge r_{l,p}$ and $i < m < j$.
\end{definition}

The long-haul truck driver routing problem now can be defined as follows.

\begin{namedproblem}
	\problemtitle{\textsc{Long-Haul Truck Driver Routing}}
	\probleminput{A graph $G=(V,E,\omega)$, a set of parking nodes $P \subseteq V$, a set of driving time constraints $R$, and start and target nodes $s,t \in V$}
	\problemquestion{Find the path $p$ from $s$ to $t$ in $G$ which minimizes travel time $len_{tt}(p)$ and complies with the driving time restrictions $R$.}
\end{namedproblem}

In many practical applications, the number of different driving time constraints is limited to only one or two constraints, i.e., $|R| = 1$ or  $|R| = 2$. Therefore, we will often only consider one of these special cases.