\chapter{Problem and Definitions}\label{chapter:problem_definitions}
Truck drivers have to follow regulations regarding the maximum time they are allowed to drive without taking a break. Therefore, on longer routes planning becomes necessary. We propose an extension of the shortest path problem which accounts for driving time limits and mandatory breaks, denoted as the long-haul truck driver routing problem. It can be formalized as follows:

Let $G=(V,E,\mathfunction{len})$ be a graph and $s$ and $t$ nodes with $s,t \in V$. We extend the graph with a set $P \subseteq V$ of parking nodes. Additionally, we introduce a set $\restrset$ of driving time constraints $\restr_i$. Each driving time constraint is defined by a maximum permitted driving time $\restr_i^d$ and a break time $\restr_i^b$. We assume an order among the constraints and that both the driving time and the break time correspond to this order, i.e. $i<j \implies c_i^d < c_j^d \wedge c_i^b < c_j^b$. Before exceeding a driving time of $\restr_i^d$, the driver must stop and break for a time of at least $\restr_i^b$. Afterwards, the driver is allowed to drive for a maximum time of $\restr_i^d$ again without stopping. Breaks can only take place at nodes $v \in P$.

A route $\route$ from $s$ to $t$ includes the path of visited nodes $p = \langle s=v_0,v_1,\dots,t=v_k \rangle$ and a break time function $\breakTime\colon p \rightarrow \{0,\restr_1^d,\dots,\restr_{|\restrset|}^d\}$ at each node $i$. For non-parking nodes $v_i \notin P$, the break time must be zero. We also define the \breakTime\ of an entire route $\route$ on $p$ as $\breakTime(\route) = \sum_{i=0}^{k-1}{\breakTime((v_i,v_{i+1}))}$.

\begin{definition}[Valid Route]
	A valid route $p = \langle s=v_0,v_1,...,t=v_k \rangle$ must comply with all driving time constraints in $\restrset$.A path complies with a specific driving time constraint $\restr \in \restrset$ if there is no subpath $p'$ between two nodes $u,w \in P' = \{s,t\} \cup \{v_i \in p \mid \breakTime(v_i) \ge \restr^b\}$ on the path which exceeds the driving time limit $\len(p') > \restr^d$ and has no third node $v_i \in P'$ in between $u$ and $w$.
\end{definition}

We differentiate between the driving time and the travel time of a route.

\begin{definition}[Driving Time of a Route]
	The driving time $\concretedt(\route)$ of a route $\route$ is the length $\len(p)$ of the path $p = \langle s=v_0,v_1,...,t=v_k \rangle$ of the route.
\end{definition}

\begin{definition}[Travel Time of a Route]
	The travel time $\concretett(\route)$ of a route $\route$ is the sum of driving time $\concretedt(\route)$ and break time  $\breakTime(p)$ on its path.
\end{definition}

\begin{definition}[Shortest Route]
	A route between two nodes $s$ and $t$ is called a shortest route if it is valid and there exists no different valid route between $s$ and $t$ with a smaller travel time.
\end{definition}

The shortest travel time between two nodes $s$ and $t$, i.e., the travel time of the shortest route between them is denoted as $\traveltime(s,t)$. Accordingly, $\drivingtime(s,t)$ denotes the driving time of the shortest route between $s$ and $t$. In general, the driving time $\drivingtime(s,t)$ and the distance $\distance(s,t)$ between two nodes are not equal.

The long-haul truck driver routing problem now can be defined as follows.

\begin{namedproblem}
	\problemtitle{\textsc{Long-Haul Truck Driver Routing}}
	\probleminput{A graph $G=(V,E,\mathfunction{len})$, a set of parking nodes $P \subseteq V$, a set of driving time constraints $\restrset$, and start and target nodes $s,t \in V$}
	\problemquestion{Find the shortest valid route $r$ from $s$ to $t$ in $G$.}
\end{namedproblem}

In many practical applications, the number of different driving time constraints is limited to only one or two constraints, i.e., $|\restrset| = 1$ or  $|\restrset| = 2$. Therefore, we will often only consider two special cases.